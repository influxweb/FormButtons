$(function(){var f=0;$('.form-button').mousedown(function(e){if($(e.target).parent('label.cta').parent('div.form-button').hasClass('active')){f=1;}});$(".form-button").click(function(t){if(!$(t.target).is("label")&&!$(t.target).parent().is("label")&&!$(this).hasClass("active")){var i=$(this).hasClass("full-width"),s=$(this).outerWidth();i&&(s=$(this).parent().width());var h=$(this).find(".input"),a=s-$(this).find(".icon").outerWidth()-$(this).find(".submit").outerWidth()-(h.outerWidth()-h.width());if(i){h.animate({width:a});h.css({"display":"inline-block"});}else{h.css("width",a);}$(this).addClass("active");h.focus();}});$('.form-button').each(function(){$(this).attr('tab-index','-1');});$(".form-button").focusout(function(t){if(f){f=0;return;}if($(this).hasClass('auto-close')||$(this).hasClass('auto-close-on-empty')){if(!$(t.relatedTarget).is(".form-button, .form-button *")){var h=$(this).find(".input");if($(this).hasClass('auto-close-on-empty')){if(h.val().length){return;}}var i=$(this).hasClass("full-width"),a=h.siblings('label.cta').children('span.text').outerWidth()-h.siblings('button.submit').outerWidth();if(i){h.animate({width:a},function(){$(this).parent('div.form-button').removeClass('active');$(this).css({'display':'none'});});}else{$(this).removeClass('active');}}}});});